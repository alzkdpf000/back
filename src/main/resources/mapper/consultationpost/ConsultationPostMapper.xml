<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.back.mapper.consultationpost.ConsultationPostMapper">
    <select id="selectTop5OrderByViewCountDesc">
        select tcp.id,
               tcp.consultation_post_title      as consultation_post_title,
               tcp.consultation_post_content    as consultation_post_content,
               tcp.consultation_post_status     as consultation_post_status,
               tcp.consultation_post_view_count as consultation_post_view_count,
               tcp.member_id                    as member_id,
               tcp.created_date                 as created_date,
               vmf.file_path                    as member_file_path,
               tm.member_name                   as member_name
        from tbl_member tm
                 join tbl_consultation_post tcp on tcp.member_id = tm.id
                 join view_member_file vmf on tm.id = vmf.member_id
        order by consultation_post_view_count desc
        limit 3

    </select>
</mapper>